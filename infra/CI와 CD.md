
CI과정에 대해 이해하기 전에 어플리케이션을 빌드해 배포하기까지의 과정을 간략하게 이해해보자.

## 1. 컴파일

컴파일이란 우리가 만든 프로그래밍 언어를 기계가 이해할 수 있는 기계 언어로 번역하는 것이다.
- ex) ``System.out.println("hello world");
같은 경우에는 기계어로 대략 
```
 L0
    LINENUMBER 3 L0
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    LDC "HappyKoo"
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
```


위 처럼 번역된다.(예시로 사용한 언어인 Java에서는 Bytecode로 변환된다.)

## 2. 빌드

컴파일을 마친 기계 언어를 사용자에게 보여주기 위해 빌드(Build)하여 완성된 소프트웨어 가공물로 만든다.

- java 에서는 `maven, gradle`과 같은 빌드 도구를 이용하면 컴파일과 함께 소스코드 파일을 `.jar, .war`같은 파일로 빌드할 수 있다.

## 3. 배포

이렇게 만들어진 산출물을 각각의 서버에서 동작하도록 하여 상품을 사용자들에게 공개하는 것이 배포다.

그렇다면 프로젝트를 빌드하고, 배포할때 왜 CI/CD를 적용해야 하는것일까?

그에 앞서, 과거 회사에서 진행했던 개발 프로세스 과정을 먼저 예시로 보여드리겠습니다.

### CI/CD가 없는 개발 프로세스


1. 개인별 업무 Task에 맞는 Github Issue를 생성한다.
2. Issue에 Task 링크를 기재한다.
3. Task에 Issue를 연결한다
	여기서 Task는 사내 Task 관리 툴을 사용했었음
4. 로컬 개발환경에 main 브랜치에서 작업용 브랜치 생성
5. 작업용 브랜치에서 작업 진행
6. 퇴근 전, 중간 작업물 push
7. 작업이 완료된 후 로컬 commit을 squash등을 통해 정리
8. **로컬에서 build 테스트 및 기능 테스트 진행 후 문제 없음을 확인
	위 과정에서, lint를 통해, 수동으로 syntex error나 코드 품질검사를 진행한다.**
9. Push후 Pull Request를 작성한다.
10. 리뷰어를 등록.
11. 리뷰어의 리뷰를 토대로 리뷰 진행
12. 리뷰가 Approve되면 Main Branch로 해당 작업 브랜치가 Merge 된 후, 작업용 브랜치는 삭제된다.
13. Issue Close
14. Task close

만약 위 프로세스로 진행하던 도중, 8번과정에서 미처 확인하지 못한 버그가 존재한다면, 다시, 1번부터 14번까지 순차적으로 진행해서 컴파일-테스트-빌드-배포 과정을 진행해야하는 번거로움이 생긴다.

이러한 문제점을 해결하기 위해서 CI/CD가 생겨났고, 실제로 CI/CD만 적용되어있었더라도, 전 직장에서 해당 프로세스 과정에서 드는 불필요한 시간을 많이 줄일 수 있을거라는 생각이 들었다.

## CI(Continuous Integration)

CI는 지속적 통합이라는 뜻으로, 개발을 진행하면서도 제품 품질을 관리할 수 있도록 하는 것으로 여러 명이 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합 하면서 관리할 수 있음을 의미한다.

앞서 설명한 프로세스 처럼, CI가 적용되어 있지 않다면 개발을 끝마치고, 코드 리뷰를 마쳤음에도 main 브랜치와 통합되는 과정에서 문제가 생기게 되면 다시 예전 코드로 되돌아가, 해당 문제를 해결하고 테스트 하면서 소모하는 시간이 생기게 된다.

이를 자동화하면 개발자가 수동으로 테스트와 빌드를 하지 않고도 병합하는 과정에서 자동으로 테스트와 빌드를 실행해주기에 소모하는 시간을 줄임과 동시에 코드 품질도 검증할 수 있게 된다.

CI를 적용한다면 간단하게 아래와 같은 프로세스가 될 수 있을것이다.

1. 개발자가 작업용 브랜치에서 구현한 코드를 Main 브랜치의 코드와 병합한다.
2. 병합된 코드가 올바르게 동작되고 빌드되는지 검증한다.
3. 테스트 결과 문제가 있다면 수정하고, 다시 1번으로 돌아간다. 문제가 없다면 배포를 진행한다.

개발자는 수동으로 테스트와 빌드를 하는 과정을 생략하고, 그저 Main 브랜치의 코드와 병합하는 과정만 거치면 된다.

## CD(Continuous Deployment)

지속적 통합을 통해, 코드 품질을 검증 받은 코드에 대해서 신뢰할 수 있기에 바로 배포를 진행할 수 있다.

따라서 CD는 지속적 배포로 소프트웨어가 항상 신뢰 가능한 수준에서 배포될 수 있도록 관리하자는 개념으로 지속적 제공(Continuous Delivery)로 사용되기도 한다.

지속적 제공은 빌드와 테스트를 마친 후, github과 같은 저장소에 업로드하는 것을 의미한다.

반면에 지속적 배포는 이렇게 성공적으로 병합된 코드 내역을 사용자가 사용할 수 있는 배포환경까지 릴리즈 하는 것을 의미한다.

![[Pasted image 20230905204426.png]]

대표적인 CI/CD의 방법으로는 Travis와 Jenkins 그리고 Github Actions가 있다.

각각의 CI/CD 솔루션에 대해서는 다음에 알아보도록 하겠습니다.

## 참고
https://www.redhat.com/ko/topics/devops/what-is-ci-cd
https://tecoble.techcourse.co.kr/post/2021-08-14-ci-cd/

